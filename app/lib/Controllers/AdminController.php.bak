<?php
namespace DigitalGaming;

class AdminController
{
	protected $viewPath;
	
	public function __construct()
	{
		$this->viewPath = $_SERVER['DOCUMENT_ROOT'] . "views/Admin/";
	}
	
	public function index()
	{
		include $this->viewPath . 'index.php';
	}
	
	public function users()
	{
		$usersQuery = Base\UserQuery::create()->orderByName();
		$usersTable;
		
		foreach ($usersQuery as $user) 
		{
			$usersTable[] =  array("name" => $user->getName(), "email" => $user->getEmail());
		}
		$usersTable = json_encode($usersTable);
		include $this->viewPath . 'users.php';
	}
	
	public function groups()
	{
		$groupsQuery = Base\GroupQuery::create()->orderByName();
		$groupsTable;
		
		foreach ($groupsQuery as $user) 
		{
			$groupsTable[] =  array("name" => $user->getName(), "email" => $user->getEmail());
		}
		$groupsTable = json_encode($groupsTable);
		include $this->viewPath . 'groups.php';
	}
	
}
?>
